POSTGRES_USER=crawl_user
POSTGRES_PASSWORD=crawl_password
POSTGRES_DB=crawl_db
# Optional: override Docker volume with a host path (absolute path recommended)
POSTGRES_DATA_PATH=./storage/postgres_data
HOST_POSTGRES_PORT=5433

PGBOUNCER_HOST=pgbouncer
PGBOUNCER_PORT=6432
HOST_PGBOUNCER_PORT=6432
PGBOUNCER_POOL_MODE=transaction
PGBOUNCER_DEFAULT_POOL_SIZE=20
PGBOUNCER_MAX_CLIENT_CONN=200
PGBOUNCER_RESERVE_POOL_SIZE=5
PGBOUNCER_RESERVE_POOL_TIMEOUT=5
PGBOUNCER_SERVER_LIFETIME=900
PGBOUNCER_SERVER_IDLE_TIMEOUT=300
PGBOUNCER_STATS_PERIOD=60

PGADMIN_DEFAULT_EMAIL=admin@admin.com
PGADMIN_DEFAULT_PASSWORD=admin
PGADMIN_PORT=5050

RABBITMQ_DEFAULT_USER=crawler
RABBITMQ_DEFAULT_PASS=crawler_password
HOST_RABBITMQ_PORT=5672
HOST_RABBITMQ_MGMT_PORT=15672
FLOWER_PORT=5555

DATABASE_URL=postgresql://crawl_user:crawl_password@pgbouncer:6432/crawl_db
CRAWLER_DATABASE_URL=postgresql://crawl_user:crawl_password@pgbouncer:6432/crawl_db
CRAWLER_CELERY_BROKER_URL=amqp://crawler:crawler_password@rabbitmq:5672//
CRAWLER_CELERY_RESULT_BACKEND=db+postgresql://crawl_user:crawl_password@pgbouncer:6432/crawl_db
CRAWLER_CELERY_TASK_ALWAYS_EAGER=False
CRAWLER_DB_POOL_SIZE=2
CRAWLER_DB_MAX_OVERFLOW=0
CRAWLER_DB_POOL_RECYCLE=1800

# Optional direct Postgres DSNs for migrations/maintenance
DATABASE_URL_DIRECT=postgresql://crawl_user:crawl_password@postgres:5432/crawl_db
CRAWLER_DATABASE_URL_DIRECT=postgresql://crawl_user:crawl_password@postgres:5432/crawl_db
CRAWLER_CELERY_RESULT_BACKEND_DIRECT=db+postgresql://crawl_user:crawl_password@postgres:5432/crawl_db

# Test app host volume paths
TEST_APP_STORAGE_MOUNT_PATH=./storage
TEST_APP_DATA_MOUNT_PATH=./data

STORAGE_VOLUMES=primary:/app/storage;hdd02:/app/storage/storage02
STORAGE_ACTIVE_VOLUME=primary
STORAGE_WARN_THRESHOLD=0.9   # 90% usage
STORAGE_PAUSE_FILE=/app/storage/.pause_ingest
# Optional: enable Telegram alerts when storage nears capacity
STORAGE_NOTIFY_TELEGRAM_BOT_TOKEN=
STORAGE_NOTIFY_TELEGRAM_CHAT_ID=
# STORAGE_NOTIFY_TELEGRAM_THREAD_ID=
